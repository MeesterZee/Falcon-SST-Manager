<!DOCTYPE html>
<html>

<head>
  <base target="_top">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Falcon Enrollment</title>

  <!-- Google Fonts: Roboto -->
  <link
    href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
    rel="stylesheet">

  <!-- Bootstrap Icons v1.11.3 -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

  <!-- PDF Make v0.2.12 -->
  <script src='https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.12/pdfmake.js'></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.12/vfs_fonts.js'></script>

  <!-- Custom libraries -->
  <?!= include('falcon-ui.lib'); ?>
  <?!= include('falcon-themes.lib'); ?>
  <?!= include('falcon-sounds.lib'); ?>
  <?!= include('falcon-pdf.lib'); ?>

  <!-- Import user settings from properties service -->
  <script>
    let USER_SETTINGS = JSON.parse('<?= userSettings ?>'); // Inject user settings
  </script>
</head>

<body>
  <div id="loading-indicator"></div>

  {{NAVBAR}}
  <div class="tool-bar" id="toolbar">
    <button class="tool-bar-button" style="background-color: var(--green)" id="toggleDataButton">
      <i class="bi bi-eye"></i>Active
    </button>
    <button class="tool-bar-button" id="saveChangesButton">
      <i class="bi bi-cloud-check"></i>Save
    </button>
    <div class="dropdown">
      <button class="dropdown-button" id="studentButton"><i class="bi bi-person-vcard"></i>Profile</button>
      <div class="dropdown-content">
        <button id="addStudentButton"><i class="bi bi-plus-circle"></i>Add student</button>
        <button id="activateStudentButton" style="display: none"><i class="bi bi-arrow-counterclockwise"></i>Activate student</button>
        <button id="removeStudentButton"><i class="bi bi-archive"></i>Archive student</button>
        <button id="deleteStudentButton" style="display: none"><i class="bi bi-trash3"></i>Delete student</button>
        <button id="renameStudentButton"><i class="bi bi-pencil"></i>Rename student</button>
      </div>
    </div>
    <div class="dropdown">
      <button class="dropdown-button" id="meetingButton"><i class="bi bi-journal-text"></i>Meeting</button>
      <div class="dropdown-content">
        <button id="addMeetingButton"><i class="bi bi-plus-circle"></i>Add meeting</button>
        <button id="deleteMeetingButton"><i class="bi bi-trash3"></i>Delete meeting</button>
      </div>
    </div>
    <div class="dropdown">
      <button class="dropdown-button" id="emailButton"><i class="bi bi-envelope"></i>Email</button>
      <div class="dropdown-content">
        <button id="composeEmailButton"><i class="bi bi-envelope-paper"></i>Compose email</button>
        <button id="sendReferralButton"><i class="bi bi-card-checklist"></i>Send referral</button>
      </div>
    </div>
    <div class="dropdown">
      <button class="dropdown-button" id="exportButton"><i class="bi bi-box-arrow-up"></i>Export</button>
      <div class="dropdown-content">
        <button id="exportMeetingButton"><i class="bi bi-file-earmark-text"></i>Meeting summary</button>
        <button id="exportDataButton"><i class="bi bi-database"></i>Application data</button>
      </div>
    </div>
    <button class="tool-bar-button" id="helpButton">
      <i class="bi bi-question-circle"></i>Help
    </button>
  </div>

  <div id="toast-container"></div>

  <div class="page-container" id="page">
  
  <div class="column-container">
    <!-- STUDENT INFORMATION COLUMN -->
    <div class="column">
      <div class="column-header">Student Profile</div>
      <div class="column-body">
        <div class="warning" id="profileWarning">
          <i class="bi bi-exclamation-triangle-fill" style="color: var(--warning-color);"></i>
          <b>No students found!</b>
        </div>
        <div id="profileDataTable">
        <div class="search-container">
          <i class="bi bi-search search-icon"></i>
          <input type="text" id="profileSearch" placeholder="Search...">
        </div>
        <h2 class="rounded-top">Student Information</h2>
        <div class="no-header-table-wrapper">
          <table class="no-header-table">
            <tr>
              <td>Student name:</td>
              <td>
                <select class="table-select" id="studentName">
                  <!-- Populate on load -->
                </select>
              </td>
            </tr>
            <tr>
              <td>Gender:</td>
              <td>
                <select class="table-select" id="gender">
                  <option value="Male">Male</option>
                  <option value="Female">Female</option>
                  <option value="Non-binary">Non-binary</option>
                </select>
              </td>
            </tr>
            <tr>
              <td>Date of birth:</td>
              <td><input class="table-input" type="date" id="dateOfBirth"></td>
            </tr>
            <tr>
              <td>Grade:</td>
              <td>
                <select class="table-select" id="grade">
                  <option value="TK">TK</option>
                  <option value="K">K</option>
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5</option>
                  <option value="6">6</option>
                  <option value="7">7</option>
                  <option value="8">8</option>
                </select>
              </td>
            </tr>
            <tr>
              <td>Classroom/teacher:</td>
              <td>
                <select class="table-select" id="classroom">
                  <!-- Populate on load -->
                </select>
              </td>
            </tr>
            <tr>
              <td>Allergies:</td>
              <td><input class="table-input" type="text" id="allergies"></input></td>
            </tr>
            <tr>
              <td>Medications:</td>
              <td><input class="table-input" type="text" id="medications"></input></td>
            </tr>
            <tr>
              <td>Dietary restrictions:</td>
              <td><input class="table-input" type="text" id="dietaryRestrictions"></input></td>
            </tr>
            <tr>
              <td>Diagnosis:</td>
              <td>
                <select class="table-select" id="diagnosis">
                  <option value="ADHD (Attention Deficit Hyperactivity Disorder)">ADHD (Attention Deficit Hyperactivity Disorder)</option>
                  <option value="APD (Auditory Processing Disorder)">APD (Auditory Processing Disorder)</option>
                  <option value="ASD (Autism Spectrum Disorder)">ASD (Autism Spectrum Disorder)</option>
                  <option value="DD (Developmental Delay)">DD (Developmental Delay)</option>
                  <option value="DS (Down Syndrome)">DS (Down Syndrome)</option>
                  <option value="EBD (Emotional and Behavioral Disorders)">EBD (Emotional and Behavioral Disorders)
                  <option value="ED (Emotional Disturbance)">ED (Emotional Disturbance)</option>
                  </option>
                  <option value="HI (Hearing Impairment)">HI (Hearing Impairment)</option>
                  <option value="ID (Intellectual Disability)">ID (Intellectual Disability)</option>
                  <option value="LD (Language Disorder)">LD (Language Disorder)</option>
                  <option value="MD (Multiple Disabilities)">MD (Multiple Disabilities)</option>
                  <option value="OHI (Other Health Impairment)">OHI (Other Health Impairment)</option>
                  <option value="OI (Orthopedic Impairment)">OI (Orthopedic Impairment)</option>
                  <option value="SLD (Specific Learning Disorder)">SLD (Specific Learning Disorder)</option>
                  <option value="TBI (Traumatic Brain Injury)">TBI (Traumatic Brain Injury)</option>
                  <option value="VI (Visual Impairment)">VI (Visual Impairment)</option>
                </select>
              </td>
            </tr>
            <tr>
              <td>Services/programs:</td>
              <td><input class="table-input" type="text" id="servicesPrograms"></input></td>
            </tr>
            <tr>
              <td>Aide:</td>
              <td>
                <select class="table-select" id="aide">
                  <option value="Full-time">Full-time</option>
                  <option value="Part-time (AM)">Part-time (AM)</option>
                  <option value="Part-time (PM)">Part-time (PM)</option>
                </select>
              </td>
            </tr>
            <tr>
              <td>Specialized instruction:</td>
              <td>
                <select class="table-select" id="specializedInstruction">
                  <option value="504">504</option>
                  <option value="IEP">IEP</option>
                </select>
              </td>
            </tr>
            <tr>
              <td>Case manager:</td>
              <td><input class="table-input" type="text" id="caseManager"></td>
            </tr>
          </table>
        </div>
        <h2 class="rounded-top">Release Of Information</h2>
        <div class="no-header-table-wrapper">
          <table class="no-header-table">
            <tr>
              <td>ROI organization:</td>
              <td><input class="table-input" type="text" id="roi1"></input></td>
            </tr>
            <tr>
              <td>ROI organization:</td>
              <td><input class="table-input" type="text" id="roi2"></input></td>
            </tr>
            <tr>
              <td>ROI organization:</td>
              <td><input class="table-input" type="text" id="roi3"></input></td>
            </tr>
            </table>
        </div>
        <h2 class="rounded-top">Parent/Guardian Information</h2>
        <div class="no-header-table-wrapper">
          <table class="no-header-table">
            <tr>
              <td>Parent/guardian name:</td>
              <td><input class="table-input" type="text" id="parentGuardianName1"></td>
            </tr>
            <tr>
              <td>Parent/guardian phone:</td>
              <td><input class="table-input" type="text" id="parentGuardianPhone1"></td>
            </tr>
            <tr>
              <td>Parent/guardian email:</td>
              <td><input class="table-input" type="text" id="parentGuardianEmail1"></td>
            </tr>
          </table>
        </div>
        <h2 class="rounded-top">Parent/Guardian Information</h2>
        <div class="no-header-table-wrapper">
          <table class="no-header-table">
            <tr>
              <td>Parent/guardian name:</td>
              <td><input class="table-input" type="text" id="parentGuardianName2"></td>
            </tr>
            <tr>
              <td>Parent/guardian phone:</td>
              <td><input class="table-input" type="text" id="parentGuardianPhone2"></td>
            </tr>
            <tr>
              <td>Parent/guardian email:</td>
              <td><input class="table-input" type="text" id="parentGuardianEmail2"></td>
            </tr>
          </table>
        </div>
        <h2 class="rounded-top">Notes</h2>
        <textarea class="column-textarea" style="margin: 0" id="notes"></textarea>
      </div>
      </div>
    </div>

    <!-- MEETINGS COLUMN -->
    <div class="column">
      <div class="column-header">Student Meetings</div>
      <div class="column-body">
        <div class="warning" id="meetingWarning">
          <i class="bi bi-exclamation-triangle-fill" style="color: var(--warning-color);"></i>
          <b>No meetings found!</b>
        </div>
        <div id="meetingDataTable">
        <select class="column-select" style="margin-bottom: 20px" id="meetingName"></select>
        <h2 class="rounded-top">Meeting Information</h2>
        <div class="no-header-table-wrapper">
          <table class="no-header-table">
            <tr>
              <td>Date:</td>
              <td><input class="table-input" type="date" id="meetingDate"></td>
            </tr>
            <tr>
              <td>Type:</td>
              <td>
                <select class="table-select" id="meetingType">
                  <option value="Initial">Initial</option>
                  <option value="Check-in">Check-in</option>
                  <option value="End of Year">End of year</option>
                  <option value="Consultation">Consultation</option>
                </select>
              </td>
            </tr>
            <tr>
              <td>Attendees:</td>
              <td><input class="table-input" type="text" id="attendees"></td>
            </tr>
            <tr>
              <td>Facilitator:</td>
              <td><input class="table-input" type="text" id="facilitator"></td>
            </tr>
            <tr>
              <td>Scribe:</td>
              <td><input class="table-input" type="text" id="scribe"></td>
            </tr>
          </table>
        </div>
        <h2 class="rounded-top">Student Strengths</h2>
        <textarea class="column-textarea" id="strengthsInput"></textarea>
        <h2 class="rounded-top">Student Concerns</h2>
        <textarea class="column-textarea" id="concernsInput"></textarea>
        <h2 class="rounded-top">Student Action Plan</h2>
        <textarea class="column-textarea" id="actionPlanInput"></textarea>
        <h2 class="rounded-top">Schedule Meeting</h2>
        <div class="no-header-table-wrapper" style="margin-bottom: 0;">
          <table class="no-header-table">
            <tr>
              <td>Next meeting date:</td>
              <td><input class="table-input" type="date" id="nextDate"></td>
            </tr>
            <tr>
              <td>Next meeting time:</td>
              <td><input class="table-input" type="time" id="nextTime"></td>
            </tr>
          </table>
        </div>
        </div>
      </div>
    </div>

    <!-- MODALS -->

    <!-- ADD STUDENT MODAL -->
    <dialog class="action-modal" id="addStudentModal" data-select-reset-index="-1">
      <div class="action-header">Add Student
          <button class="action-close-btn"><i class="bi-close bi-x-circle-fill"></i></button>
      </div>
      <div class="action-container">
        <div class="action-content">
          <h2 class="rounded-top">Student Information</h2>
          <div class="no-header-table-wrapper">
            <table class="no-header-table">
              <tr>
                <td>Student first name:</td>
                <td><input class="table-input" type="text" id="addFirstName"></select></td>
              </tr>
              <tr>
                <td>Student last name:</td>
                <td><input class="table-input" type="text" id="addLastName"></td>
              </tr>
              <tr>
                <td>Gender:</td>
                <td>
                  <select class="table-select" id="addGender">
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                    <option value="Non-binary">Non-binary</option>
                  </select>
                </td>
              </tr>
              <tr>
                <td>Date of birth:</td>
                <td><input class="table-input" type="date" id="addDateOfBirth"></td>
              </tr>
              <tr>
                <td>Grade:</td>
                <td>
                  <select class="table-select" id="addGrade">
                    <option value="TK">TK</option>
                    <option value="K">K</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                  </select>
                </td>
              </tr>
              <tr>
                <td>Classroom/teacher:</td>
                <td>
                  <select class="table-select" id="addClassroom">
                    <!-- Populate on load -->
                  </select>
                </td>
              </tr>
              <tr>
                <td>Allergies:</td>
                <td><input class="table-input" type="text" id="addAllergies"></td>
              </tr>
              <tr>
                <td>Medications:</td>
                <td><input class="table-input" type="text" id="addMedications"></td>
              </tr>
              <tr>
                <td>Dietary restrictions:</td>
                <td><input class="table-input" type="text" id="addDietaryRestrictions"></td>
              </tr>
              <tr>
                <td>Diagnosis:</td>
                <td>
                  <select class="table-select" id="addDiagnosis">
                    <option value="ADHD (Attention Deficit Hyperactivity Disorder)">ADHD (Attention Deficit Hyperactivity Disorder)</option>
                    <option value="APD (Auditory Processing Disorder)">APD (Auditory Processing Disorder)</option>
                    <option value="ASD (Autism Spectrum Disorder)">ASD (Autism Spectrum Disorder)</option>
                    <option value="DD (Developmental Delay)">DD (Developmental Delay)</option>
                    <option value="EBD (Emotional and Behavioral Disorders)">EBD (Emotional and Behavioral Disorders)
                    <option value="ED (Emotional Disturbance)">ED (Emotional Disturbance)</option>
                    </option>
                    <option value="HI (Hearing Impairment)">HI (Hearing Impairment)</option>
                    <option value="ID (Intellectual Disability)">ID (Intellectual Disability)</option>
                    <option value="LD (Language Disorder)">LD (Language Disorder)</option>
                    <option value="MD (Multiple Disabilities)">MD (Multiple Disabilities)</option>
                    <option value="OHI (Other Health Impairment)">OHI (Other Health Impairment)</option>
                    <option value="OI (Orthopedic Impairment)">OI (Orthopedic Impairment)</option>
                    <option value="SLD (Specific Learning Disorder)">SLD (Specific Learning Disorder)</option>
                    <option value="TBI (Traumatic Brain Injury)">TBI (Traumatic Brain Injury)</option>
                    <option value="VI (Visual Impairment)">VI (Visual Impairment)</option>
                  </select>
                </td>
              </tr>
              <tr>
                <td>Services/programs:</td>
                <td><input class="table-input" type="text" id="addServicesPrograms"></td>
              </tr>
              <tr>
                <td>Aide:</td>
                <td>
                  <select class="table-select" id="addAide">
                    <option value="Full-time">Full-time</option>
                    <option value="Part-time (AM)">Part-time (AM)</option>
                    <option value="Part-time (PM)">Part-time (PM)</option>
                  </select>
                </td>
              </tr>
              <tr>
                <td>Specialized instruction:</td>
                <td>
                  <select class="table-select" id="addSpecializedInstruction">
                    <option value="504">504</option>
                    <option value="IEP">IEP</option>
                  </select>
                </td>
              </tr>
              <tr>
                <td>Case manager:</td>
                <td><input class="table-input" type="text" id="addCaseManager"></td>
              </tr>
            </table>
          </div>
          <h2 class="rounded-top">Release Of Information</h2>
          <div class="no-header-table-wrapper">
            <table class="no-header-table">
              <tr>
                <td>ROI organization:</td>
                <td><input class="table-input" type="text" id="addROI1"></td>
              </tr>
              <tr>
                <td>ROI organization:</td>
                <td><input class="table-input" type="text" id="addROI2"></td>
              </tr>
              <tr>
                <td>ROI organization:</td>
                <td><input class="table-input" type="text" id="addROI3"></td>
              </tr>
            </table>
          </div>
          <h2 class="rounded-top">Parent/Guardian Information</h2>
          <div class="no-header-table-wrapper">
            <table class="no-header-table">
              <tr>
                <td>Parent/guardian name:</td>
                <td><input class="table-input" type="text" id="addParentGuardianName1"></td>
              </tr>
              <tr>
                <td>Parent/guardian phone:</td>
                <td><input class="table-input" type="text" id="addParentGuardianPhone1"></td>
              </tr>
              <tr>
                <td>Parent/guardian email:</td>
                <td><input class="table-input" type="text" id="addParentGuardianEmail1"></td>
              </tr>
            </table>
          </div>
          <h2 class="rounded-top">Parent/Guardian Information</h2>
          <div class="no-header-table-wrapper">
            <table class="no-header-table">
              <tr>
                <td>Parent/guardian name:</td>
                <td><input class="table-input" type="text" id="addParentGuardianName2"></td>
              </tr>
              <tr>
                <td>Parent/guardian phone:</td>
                <td><input class="table-input" type="text" id="addParentGuardianPhone2"></td>
              </tr>
              <tr>
                <td>Parent/guardian email:</td>
                <td><input class="table-input" type="text" id="addParentGuardianEmail2"></td>
              </tr>
            </table>
          </div>          
        <div class="action-btn">
          <button id="addStudentModalButton">Add Student</button>
        </div>
      </div>
    </dialog>

  <!-- RENAME STUDENT MODAL -->
  <dialog class="action-modal" id="renameStudentModal">
    <div class="action-header">Rename Student
      <button class="action-close-btn"><i class="bi-close bi-x-circle-fill"></i></button>
    </div>
    <div class="action-container">
      <div class="action-content">
        <h2 class="rounded-top" id="currentStudentName"></h2>
        <div class="no-header-table-wrapper">
          <table class="no-header-table">
            <tr>
              <td>New first name:</td>
              <td><input class="table-input" type="text" id="renameFirst"></td>
            </tr>
            <tr>
              <td>New last name:</td>
              <td><input class="table-input" type="text" id="renameLast"></td>
            </tr>
          </table>
        </div>
        <div class="action-btn">
          <button id="renameStudentModalButton">Rename Student</button>
        </div>
      </div>
    </div>
  </dialog>
  
  <!-- ADD MEETING MODAL -->
    <dialog class="action-modal" id="addMeetingModal" data-select-reset-index="-1">
      <div class="action-header">Add Meeting
        <button class="action-close-btn"><i class="bi-close bi-x-circle-fill"></i></button>
      </div>
        <div class="action-container">
          <div class="action-content">
          <h2 class="rounded-top">Meeting Information</h2>
          <div class="no-header-table-wrapper">
          <table class="no-header-table">
            <tr>
              <td>Date:</td>
              <td><input class="table-input" type="date" id="addMeetingDate"></td>
            </tr>
            <tr>
              <td>Type:</td>
              <td>
                <select class="table-select" id="addMeetingType">
                  <option value="Initial">Initial</option>
                  <option value="Check-in">Check-in</option>
                  <option value="End of Year">End of year</option>
                  <option value="Consultation">Consultation</option>
                </select>
              </td>
            </tr>
            <tr>
              <td>Attendees:</td>
              <td><input class="table-input" type="text" id="addAttendees"></td>
            </tr>
            <tr>
              <td>Facilitator:</td>
              <td><input class="table-input" type="text" id="addFacilitator"></td>
            </tr>
            <tr>
              <td>Scribe:</td>
              <td><input class="table-input" type="text" id="addScribe"></td>
            </tr>
          </table>
        </div>
          <div class="action-btn">
            <button id="addMeetingModalButton">Add Meeting</button>
          </div>
        </div>
      </div>
    </dialog>

  <!-- EMAIL MODAL -->
    <dialog class="action-modal" id="composeEmailModal">
      <div class="action-header">Compose Email
        <button class="action-close-btn"><i class="bi-close bi-x-circle-fill"></i></button>
      </div>
      <div class="action-container">
        <div class="action-content">
          <h2 class="rounded-full">Templates</h2>
          <label class="input-label" for="templateSelect"><b>Select template:</b></label>
          <select class="column-select" id="templateSelect">
            <option value="none">None</option>
            <option value="referral">Referral</option>
            <option value="initial">Initial Meeting</option>
            <option value="reminder">Meeting Reminder</option>
            <option value="summary">Meeting Summary</option>
          </select>
          <div class="warning" id="templateWarning" style="margin-top: 10px; display: none;">
            <i class="bi-exclamation-triangle-fill" style="color: var(--warning-color)"></i>
            <b>Template data missing!</b>
          </div>
          <h2 class="rounded-full" style="margin-top: 20px">Compose Email</h2>
          <label class="input-label" for="emailRecipient"><b>To:</b></label>
          <input class="column-input" style="margin-bottom: 10px;" type="text" id="emailRecipient">
          <label class="input-label" for="emailSubject"><b>Subject:</b></label>
          <input class="column-input" style="margin-bottom: 10px;" type="text" id="emailSubject">
          <div class="label-text"><b>Message:</b></div>
          <div class="rich-text-box" contenteditable="true" id="emailBody"></div>
          <div class="action-btn">
            <button id="composeEmailModalButton">Send Email</button>
          </div>
        </div>
      </div>
    </dialog>

    <!-- REFER STUDENT MODAL -->
    <dialog class="action-modal" id="referStudentModal" data-select-reset-index="-1">
      <div class="action-header">Student Referral
        <button class="action-close-btn"><i class="bi-close bi-x-circle-fill"></i></button>
      </div>
      <div class="action-container">
        <div class="action-content">
          <h2 class="rounded-top">Student Information</h2>
          <div class="no-header-table-wrapper">
            <table class="no-header-table">
              <tr>
                <td>Student first name:</td>
                <td><input class="table-input" type="text" id="referFirstName"></select></td>
              </tr>
              <tr>
                <td>Student last name:</td>
                <td><input class="table-input" type="text" id="referLastName"></td>
              </tr>
              <tr>
                <td>Gender:</td>
                <td>
                  <select class="table-select" id="referGender">
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                    <option value="Non-binary">Non-binary</option>
                  </select>
                </td>
              </tr>
              <tr>
                <td>Grade:</td>
                <td>
                  <select class="table-select" id="referGrade">
                    <option value="TK">TK</option>
                    <option value="K">K</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                  </select>
                </td>
              </tr>
              <tr>
                <td>Classroom/teacher:</td>
                <td>
                  <select class="table-select" id="referClassroom">
                    <!-- Populate on load -->
                  </select>
                </td>
              </tr>
              <tr>
                <td>Referral date:</td>
                <td><input class="table-input" type="date" id="referDate"></td>
              </tr>
            </table>
          </div>
          
          <h2 class="rounded-top">Student Strengths</h2>
          <textarea class="column-textarea" style="height: 100px" id="referStrengths"></textarea>

          <h2 class="rounded-top">Student Concerns</h2>
          <textarea class="column-textarea" style="height: 100px" id="referConcerns"></textarea>

          <h2 class="rounded-top">Reading</h2>
          <div class="switch-container" style="margin-bottom: 20px; border-top-left-radius: 0; border-top-right-radius: 0;">
            <div>
              <label class="switch">
                <input type="checkbox" id="phonemicAwareness">
                <span class="slider round"></span>
              </label>Difficulty with phonemic awareness
            </div>
            <div>
              <label class="switch">
                <input type="checkbox" id="decodingPhonics">
                <span class="slider round"></span>
              </label>Problems with decoding/phonics
            </div>
            <div>
              <label class="switch">
                <input type="checkbox" id="fluency">
                <span class="slider round"></span>
              </label>Lack of fluency
            </div>
            <div>
              <label class="switch">
                <input type="checkbox" id="vocabulary">
                <span class="slider round"></span>
              </label>Limited vocabulary
            </div>
            <div>
              <label class="switch">
                <input type="checkbox" id="comprehension">
                <span class="slider round"></span>
              </label>Struggles with comprehension
            </div>
          </div>

          <h2 class="rounded-top">Written Expression</h2>
          <div class="switch-container" style="margin-bottom: 20px; border-top-left-radius: 0; border-top-right-radius: 0;">
            <div>
              <label class="switch">
                <input type="checkbox" id="transcription">
                <span class="slider round"></span>
              </label>Weak transcription skills
            </div>
            <div>
              <label class="switch">
                <input type="checkbox" id="spellingPhonics">
                <span class="slider round"></span>
              </label>Challenges with spelling/phonics
            </div>
            <div>
              <label class="switch">
                <input type="checkbox" id="grammar">
                <span class="slider round"></span>
              </label>Struggles with grammar
            </div>
            <div>
              <label class="switch">
                <input type="checkbox" id="sentenceConstruction">
                <span class="slider round"></span>
              </label>Difficulty constructing sentences
            </div>
            <div>
              <label class="switch">
                <input type="checkbox" id="genreContentKnowledge">
                <span class="slider round"></span>
              </label>Limited genre and content knowledge
            </div>
            <div>
              <label class="switch">
                <input type="checkbox" id="writingProcess">
                <span class="slider round"></span>
              </label>Struggles with the writing process
            </div>
          </div>

          <h2 class="rounded-top">Mathematics</h2>
          <div class="switch-container" style="margin-bottom: 20px; border-top-left-radius: 0; border-top-right-radius: 0;">
            <div>
              <label class="switch">
                <input type="checkbox" id="computationalWeakness">
                <span class="slider round"></span>
              </label>Computational weakness
            </div>
            <div>
              <label class="switch">
                <input type="checkbox" id="incompleteMasteryNumberFacts">
                <span class="slider round"></span>
              </label>Incomplete mastery of number facts
            </div>
            <div>
              <label class="switch">
                <input type="checkbox" id="mathLanguageDifficulty">
                <span class="slider round"></span>
              </label>Math language difficulties
            </div>
            <div>
              <label class="switch">
                <input type="checkbox" id="visualSpatialPerceptual">
                <span class="slider round"></span>
              </label>Visual, spatial, and perceptual challenges
            </div>
            <div>
              <label class="switch">
                <input type="checkbox" id="difficultyTransferringKnowledge">
                <span class="slider round"></span>
              </label>Difficulty transferring knowledge
            </div>
            <div>
              <label class="switch">
                <input type="checkbox" id="makingConnections">
                <span class="slider round"></span>
              </label>Problems making connections
            </div>
          </div>

          <h2 class="rounded-top">Behavior</h2>
          <div class="switch-container">
            <div>
              <label class="switch">
                <input type="checkbox" id="unfocusedInClass">
                <span class="slider round"></span>
              </label>Unfocused in class/attention issues
            </div>
            <div>
              <label class="switch">
                <input type="checkbox" id="distractionToOthers">
                <span class="slider round"></span>
              </label>Being a distraction to others
            </div>
            <div>
              <label class="switch">
                <input type="checkbox" id="executiveFunctioningIssues">
                <span class="slider round"></span>
              </label>Executive functioning difficulties
            </div>
            <div>
              <label class="switch">
                <input type="checkbox" id="disruptiveTalking">
                <span class="slider round"></span>
              </label>Disruptive or excessive talking
            </div>
            <div>
              <label class="switch">
                <input type="checkbox" id="behaviorDifficultySelfRegulation">
                <span class="slider round"></span>
              </label>Difficulty with self-regulation
            </div>
          </div>

          <h2 class="rounded-top">Social/Emotional</h2>
          <div class="switch-container" style="margin-bottom: 20px; border-top-left-radius: 0; border-top-right-radius: 0;">
            <div>
              <label class="switch">
                <input type="checkbox" id="excessiveEmotionalBehavior">
                <span class="slider round"></span>
              </label>Excessive emotional behavior
            </div>
            <div>
              <label class="switch">
                <input type="checkbox" id="limitedSocialSkills">
                <span class="slider round"></span>
              </label>Limited social skills
            </div>
            <div>
              <label class="switch">
                <input type="checkbox" id="socialDifficultySelfRegulation">
                <span class="slider round"></span>
              </label>Difficulty with self-regulation
            </div>
            <div>
              <label class="switch">
                <input type="checkbox" id="anxietyRelatedBehaviors">
                <span class="slider round"></span>
              </label>Anxiety-related behaviors
            </div>
            <div>
              <label class="switch">
                <input type="checkbox" id="moodSwings">
                <span class="slider round"></span>
              </label>Mood swings
            </div>
            <div>
              <label class="switch">
                <input type="checkbox" id="depressionWithdrawal">
                <span class="slider round"></span>
              </label>Depression or withdrawal
            </div>
          </div>

          <h2 class="rounded-top">Medical</h2>
          <div class="switch-container" style="margin-bottom: 20px; border-top-left-radius: 0; border-top-right-radius: 0;">
            <div>
              <label class="switch">
                <input type="checkbox" id="visualPerceptualConcerns">
                <span class="slider round"></span>
              </label>Unidentified visual/perceptual concerns
            </div>
            <div>
              <label class="switch">
                <input type="checkbox" id="poorFineMotorSkills">
                <span class="slider round"></span>
              </label>Poor fine-motor skills
            </div>
            <div>
              <label class="switch">
                <input type="checkbox" id="poorGrossMotorSkills">
                <span class="slider round"></span>
              </label>Poor gross-motor skills
            </div>
            <div>
              <label class="switch">
                <input type="checkbox" id="chronicHealthIssues">
                <span class="slider round"></span>
              </label>Chronic health issues
            </div>
            <div>
              <label class="switch">
                <input type="checkbox" id="speechLanguageDifficulties">
                <span class="slider round"></span>
              </label>Speech or language difficulties
            </div>
          </div>

          <h2 class="rounded-top">Interventions/Modifications</h2>
          <textarea class="column-textarea" style="height: 100px" id="referInterventions"></textarea>

          <h2 class="rounded-top">Support Type</h2>
          <div class="switch-container" style="margin-bottom: 20px; border-top-left-radius: 0; border-top-right-radius: 0;">
            <div>
              <label class="switch">
                <input type="checkbox" id="supportPushIn">
                <span class="slider round"></span>
              </label>Push-in intervention
            </div>
            <div>
              <label class="switch">
                <input type="checkbox" id="supportPullOut">
                <span class="slider round"></span>
              </label>Pull-out support
            </div>
            <div>
              <label class="switch">
                <input type="checkbox" id="supportResources">
                <span class="slider round"></span>
              </label>Resources
            </div>
            <div>
              <label class="switch">
                <input type="checkbox" id="supportOther">
                <span class="slider round"></span>
              </label>Other
            </div>
          </div>

          <div class="action-btn">
            <button id="referStudentModalButton">Send Referral</button>
          </div>
        </div>
      </div>
    </dialog>

    <!-- EXPORT MEETING SUMMARY MODAL -->
    <dialog class="action-modal" id="exportMeetingModal">
      <div class="action-header">Export Meeting Summary
        <button class="action-close-btn"><i class="bi-close bi-x-circle-fill"></i></button>
      </div>
      <div class="action-container">
        <div class="action-content">
          <h2 class="rounded-full">Meeting Dates</h2>
          <label class="input-label" for="exportMeetingSelect"><b>Select meeting:</b></label>
          <select class="column-select" style="margin-bottom: 20px;" id="exportMeetingSelect">
            <!-- Populate on load -->
          </select>
          <div class="action-btn">
            <button id="exportMeetingModalButton">Download Summary</button>
          </div>
        </div>
      </div>
    </dialog>

    <!-- EXPORT DATA MODAL -->
    <dialog class="action-modal" id="exportDataModal" >
      <div class="action-header">Export Application Data
        <button class="action-close-btn"><i class="bi-close bi-x-circle-fill"></i></button>
      </div>
      <div class="action-container">
        <div class="action-content">
          <h2 class="rounded-full">Application Data Type</h2>
          <label class="input-label" for="dataTypeSelect"><b>Select data:</b></label>
          <select class="column-select" style="margin-bottom: 20px" id="dataTypeSelect">
            <option value="studentData">Student profile data</option>
            <option value="meetingData">Student meeting data</option>
          </select>
          <h2 class="rounded-full">File Type</h2>
          <label class="input-label" for="fileTypeSelect"><b>Select file type:</b></label>
          <select class="column-select" style="margin-bottom: 20px" id="fileTypeSelect">
            <option value="csv">Comma Separated Values (.csv)</option>
            <option value="xlsx">Microsoft Excel (.xlsx)</option>
          </select>
          <div class="action-btn">
            <button id="exportDataModalButton">Download Data</button>
          </div>
        </div>
      </div>
    </dialog>
  </div>

  <div class="sidebar-container" id="sidebarContainer">
    <div class="sidebar">
      <div class="sidebar-header">
        <div id="sidebarTitle"></div>
        <button class="sidebar-close-btn"><i class="bi-close bi-x-circle-fill"></i></button>
      </div>
      <div class="sidebar-content-container">
        <div class="sidebar-content" id="helpSidebar">
          <details>
            <summary>Coming soon!</summary>
            <div class="section-container">
              Nothing to see here.
            </div>
          </details>
          <details>
            <summary>Coming soon!</summary>
            <div class="section-container">
              Nothing to see here.
            </div>
          </details>
          <details>
            <summary style="margin-bottom: 0">Coming soon!</summary>
            <div class="section-container" style="margin-top: 10px; margin-bottom: 0;">
              Nothing to see here.
            </div>
          </details>
        </div>
      </div>
    </div>
  </div>
  
  <div class="javascript-code">
    <?!= include('dashboard.js'); ?>
  </div>
</body>

</html>
